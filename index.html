<div>
    <h1>Scan QR code</h1>

    <video autoplay style="width: 300px; height: 300px; background-color: cadetblue;"></video>
    <script>
        async function initCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: false });
                const video = document.querySelector("video");

                video.srcObject = stream;

                video.onloadedmetadata = () => {
                    video.play();
                };

                console.log("Поток успешно передан в элемент video.");
            } catch (error) {
                console.log("Ошибка при доступе к камере:", error);
                alert("Не удалось получить доступ к камере.");
            }
        }

        document.addEventListener("DOMContentLoaded", () => {
            initCamera();
        });
    </script>
</div>