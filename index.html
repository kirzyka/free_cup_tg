<div>
    <h1>Scan QR code</h1>

    <video autoplay playsinline muted style="width: 300px; height: 300px; background-color: cadetblue;"></video>
    <p id="msg"/>
    <script>
        const setMsg = (msg) => {
            document.getElementById("msg").innerHTML = msg;
        }
        async function initCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: false });
                const video = document.querySelector("video");

                video.srcObject = stream;

                video.onloadedmetadata = () => {
                    video.play();
                };

                setMsg("Поток успешно передан в элемент video.");
            } catch (error) {
                setMsg(`Ошибка при доступе к камере: ${error}`);
            }
        }

        document.addEventListener("DOMContentLoaded", () => {
            initCamera();
        });
    </script>
</div>